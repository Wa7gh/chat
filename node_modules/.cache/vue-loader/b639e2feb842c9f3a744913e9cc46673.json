{"remainingRequest":"/Users/macbook/Desktop/chat-wejdan/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbook/Desktop/chat-wejdan/src/views/Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbook/Desktop/chat-wejdan/src/views/Chat.vue","mtime":1580380062755},{"path":"/Users/macbook/Desktop/chat-wejdan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbook/Desktop/chat-wejdan/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macbook/Desktop/chat-wejdan/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbook/Desktop/chat-wejdan/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDcmVhdGVNZXNzYWdlIGZyb20gIkAvY29tcG9uZW50cy9DcmVhdGVNZXNzYWdlIjsKaW1wb3J0IGZiIGZyb20gIkAvZmlyZWJhc2UvaW5pdCI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDaGF0IiwKICBwcm9wczogWyJuYW1lIl0sCiAgY29tcG9uZW50czogewogICAgQ3JlYXRlTWVzc2FnZQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lc3NhZ2VzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBsZXQgcmVmID0gZmIuY29sbGVjdGlvbigibWVzc2FnZXMiKS5vcmRlckJ5KCJ0aW1lc3RhbXAiKTsKICAgIHJlZi5vblNuYXBzaG90KHNuYXBzaG90ID0+IHsKICAgICAgc25hcHNob3QuZG9jQ2hhbmdlcygpLmZvckVhY2goY2hhbmdlID0+IHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uCiAgICAgICAgaWYgKChjaGFuZ2UudHlwZSA9ICJhZGRlZCIpKSB7CiAgICAgICAgICBsZXQgZG9jID0gY2hhbmdlLmRvYzsKICAgICAgICAgIHRoaXMubWVzc2FnZXMucHVzaCh7CiAgICAgICAgICAgIGlkOiBkb2MuaWQsCiAgICAgICAgICAgIG5hbWU6IGRvYy5kYXRhKCkubmFtZSwKICAgICAgICAgICAgbWVzc2FnZTogZG9jLmRhdGEoKS5tZXNzYWdlLAogICAgICAgICAgICB0aW1lc3RhbXA6IG1vbWVudChkb2MuZGF0YSgpLnRpbWVzdGFtcCkuZm9ybWF0KCJMVFMiKQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KfTsK"},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Chat.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container chat\">\n    <h2 class=\"text-primary text-center\">Real-Time Chat</h2>\n    <h5 class=\"text-secondary text-center\"> welecome </h5>\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <p class=\"text-secondary nomessages\" v-if=\"messages.length == 0\">\n          [No messages yet!]\n        </p>\n        <div class=\"messages\" v-chat-scroll=\"{ always: false, smooth: true }\">\n          <div v-for=\"message in messages\" :key=\"message.id\">\n            <span class=\"text-info\">[{{ message.name }}]: </span>\n            <span>{{ message.message }}</span>\n            <span class=\"text-secondary time\">{{ message.timestamp }}</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"card-action\">\n        <CreateMessage :name=\"name\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CreateMessage from \"@/components/CreateMessage\";\nimport fb from \"@/firebase/init\";\nimport moment from \"moment\";\nexport default {\n  name: \"Chat\",\n  props: [\"name\"],\n  components: {\n    CreateMessage\n  },\n  data() {\n    return {\n      messages: []\n    };\n  },\n  created() {\n    let ref = fb.collection(\"messages\").orderBy(\"timestamp\");\n    ref.onSnapshot(snapshot => {\n      snapshot.docChanges().forEach(change => {\n        // eslint-disable-next-line no-constant-condition\n        if ((change.type = \"added\")) {\n          let doc = change.doc;\n          this.messages.push({\n            id: doc.id,\n            name: doc.data().name,\n            message: doc.data().message,\n            timestamp: moment(doc.data().timestamp).format(\"LTS\")\n          });\n        }\n      });\n    });\n  }\n};\n</script>\n\n<style>\n.chat h2 {\n  font-size: 2.6em;\n  margin-bottom: 0px;\n}\n.chat h5 {\n  margin-top: 0px;\n  margin-bottom: 40px;\n}\n.chat span {\n  font-size: 1.2em;\n}\n.chat .time {\n  display: block;\n  font-size: 0.7em;\n}\n.messages {\n  max-height: 300px;\n  overflow: auto;\n}\n</style>\n"]}]}